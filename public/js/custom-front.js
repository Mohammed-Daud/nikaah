var userLat=0,userLng=0,userLocation,marker,map;var onloadCallback=function(){if(jQuery('#reCaptcha').length>0){grecaptcha.render('reCaptcha',{'sitekey':'6LeaFf8SAAAAAOvDpgAV1P5Wo0tEc2gfi53B0Sl-'})}}
function playSound(filename){document.getElementById("sound").innerHTML='<audio autoplay="autoplay"><source src="'+filename+'.mp3" type="audio/mpeg" /><source src="'+filename+'.ogg" type="audio/ogg" /><embed hidden="true" autostart="true" loop="false" src="'+filename+'.mp3" /></audio>'}
var placeSearch,autocomplete,lat,lang;var componentForm={lat:'lat',lng:'lng',country:'country',};function getCountryUsingAddresComponents(addressComponents){var country='';for(var i=0;i<addressComponents.length;i+=1){var addressObj=addressComponents[i];for(var j=0;j<addressObj.types.length;j+=1){if(addressObj.types[j]==='country'){country=addressObj.long_name}}}
return country}
function fillInAddress(){var place=autocomplete.getPlace();var lat=place.geometry.location.lat();var lng=place.geometry.location.lng();var addressComponents=place.address_components;var country=getCountryUsingAddresComponents(addressComponents);var datas=[{key:'lat',val:lat},{key:'lng',val:lng},{key:'country',val:country}];for(var i=0;i<=datas.length+1;i++){var data=datas.pop();var key=data.key;var value=data.val;document.getElementById(key).value=value}}
function getLocation(){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(showPosition)}else{x.innerHTML="Geolocation is not supported by this browser."}}
function showPosition(position){userLat=position.coords.latitude;userLng=position.coords.longitude;var element=document.getElementById('edit_location');var site_url=element.getAttribute("data-siteurl");var redirect_url=site_url+"/members/edit/edit_my_location?lat="+userLat+"&lng="+userLng;window.location.href=redirect_url}
jQuery(document).ready(function($){$('#edit_location').click(function(e){e.preventDefault();getLocation()});var notice=$('div.notices');notice.show();$('body').prepend(notice);setTimeout(function(){jQuery('div.mesagebox').fadeOut("slow")},8000);$('.dspdp-tab-container').addClass('touch');$('.dspdp-tab-container').css('cursor','pointer');$('.touch .line.top-gap').appendTo('.touch .dsp-tab-container');$('.dsp-multiple-select').chosen()});function addGoToCurrentLocationButton(map,marker){let controlDiv=document.createElement('div');let firstChild=document.createElement('button');firstChild.style.backgroundColor='#fff';firstChild.style.border='none';firstChild.style.outline='none';firstChild.style.width='28px';firstChild.style.height='28px';firstChild.style.borderRadius='2px';firstChild.style.boxShadow='0 1px 4px rgba(0,0,0,0.3)';firstChild.style.cursor='pointer';firstChild.style.marginRight='10px';firstChild.style.padding='0';firstChild.title='Your Location';controlDiv.appendChild(firstChild);let secondChild=document.createElement('div');secondChild.style.margin='5px';secondChild.style.width='18px';secondChild.style.height='18px';secondChild.style.backgroundImage='url(https://maps.gstatic.com/tactile/mylocation/mylocation-sprite-2x.png)';secondChild.style.backgroundSize='180px 18px';secondChild.style.backgroundPosition='0 0';secondChild.style.backgroundRepeat='no-repeat';firstChild.appendChild(secondChild);google.maps.event.addListener(map,'center_changed',function(){secondChild.style['background-position']='0 0'});firstChild.addEventListener('click',function(){let imgX='0',animationInterval=setInterval(function(){imgX=imgX==='-18'?'0':'-18';secondChild.style['background-position']=imgX+'px 0'},500);if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(position){var latlng=new google.maps.LatLng(position.coords.latitude,position.coords.longitude);map.setCenter(latlng);marker.setPosition(latlng);document.getElementById("lat").value=position.coords.latitude;document.getElementById("lng").value=position.coords.longitude;clearInterval(animationInterval);secondChild.style['background-position']='-144px 0'})}else{clearInterval(animationInterval);secondChild.style['background-position']='0 0'}});controlDiv.index=1;map.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(controlDiv)}
function initialize(){if(jQuery('#autocomplete').length>0){autocomplete=new google.maps.places.Autocomplete((document.getElementById('autocomplete')),{types:['geocode']});google.maps.event.addListener(autocomplete,'place_changed',function(){fillInAddress()})}else if(jQuery('#lat').length>0&&jQuery('#lng').length>0){userLat=document.getElementById("lat").value;userLng=document.getElementById("lng").value;userLocation=new google.maps.LatLng(userLat,userLng);var mapOptions={zoom:13,center:userLocation};map=new google.maps.Map(document.getElementById('map_canvas'),mapOptions);marker=new google.maps.Marker({map:map,draggable:!0,animation:google.maps.Animation.DROP,position:userLocation});google.maps.event.addListener(marker,'click',toggleBounce);google.maps.event.addListener(marker,'dragend',function(){userLat=this.position.lat();userLng=this.position.lng();document.getElementById("lat").value=userLat;document.getElementById("lng").value=userLng});addGoToCurrentLocationButton(map,marker)}}
function toggleBounce(){if(marker.getAnimation()!=null){marker.setAnimation(null)}else{marker.setAnimation(google.maps.Animation.BOUNCE)}}
google.maps.event.addDomListener(window,'load',function(){initialize()});function cmpVersion(v1,v2){if(v1===v2)return 0;var a1=v1.toString().split(".");var a2=v2.toString().split(".");for(var i=0;i<a1.length&&i<a2.length;i++){var diff=parseInt(a1[i],10)-parseInt(a2[i],10);if(diff>0){return 1}else if(diff<0){return-1}}
diff=a1.length-a2.length;return(diff>0)?1:(diff<0)?-1:0}
function displayMessage(msg){el=document.getElementById("message-box");el.innerHTML=msg}
function displayLicenseNotice(){jQuery('div.license-notice').fadeIn()}
function language_status(id,status,url){var loc=window.location.href;if(loc.search("Action")>-1){index=loc.indexOf("Action")
loc=loc.substring(0,index-1)}
if(loc.indexOf('?')==-1){loc+="?Action=language_status&lid="+id+"&status="+status}else{loc+="&Action=language_status&lid="+id+"&status="+status}
window.location.href=loc}
jQuery(function(){var windowWidth=jQuery(window).width();if(windowWidth<640){jQuery(".dsp-tab-container").click(function(){jQuery(".dsp-line, .line").toggle()})}});jQuery(".dsp-tab-container").click(function(){jQuery(".dsp-line, .line").toggle()});jQuery(document).ready(function(){if(jQuery('.news-feed-page li div').hasClass('dspdp-bordered-item')){jQuery('#news_feed_box').show()}else{jQuery('.news-feed-page li').append('<span class="no--feed-item">No newsfeed to show at the moment.</span>')}});jQuery('.menu-item').click(function(){if(jQuery('.menu-item').siblings().hasClass('current-menu-item')){jQuery(this).siblings().removeClass('current-menu-item')}else{};jQuery(this).addClass('current-menu-item')});jQuery(document).ready(function(){jQuery('.text-title').click(function(){if(jQuery(this).find("span").hasClass('icon-plus')){jQuery(this).find("span").removeClass('icon-plus');jQuery(this).find("span").addClass('icon-minus')}else{jQuery(this).find("span").removeClass('icon-minus');jQuery(this).find("span").addClass('icon-plus')}})})